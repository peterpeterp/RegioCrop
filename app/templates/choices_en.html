{% extends "index.html" %}
{% block content %}
<div id="loading"><div id="overlay"></div><div id='overlay_text'><h1>Loading ... </h1></div></div>
<div id="content">


<!-- This is the left gray column -->
<div id="LeftPanel" style="width: 20%; padding-left: 2%; padding-right: 2%; height: 100%; float: left; background: rgba(170,170,170,0.5);">
  <!-- country choice -->
  <form method="POST" action="/country_choice" id="country_id">
    <h3>Country</h3>
    {{ form_country.countrys(onchange='change_something("country_id");') }}
  </form>

  <!-- indicator choice  -->
  <form method="POST" action="/indicator_choice" id="indicator_id">
    <h3>Climate Indicator <a href="documentation#doc_indicators"><IMG SRC='static/images/question-mark-button.png' ALT=' ' WIDTH=12 HEIGHT=12></IMG></a></h3>
    {% if small_region_warning==True %}
      <p class=warn_txt><b>Warning: </b>{{ reduced_inidicator_set_txt }}</p>
    {% endif %}
    {{ form_indicator.indicators(onchange='change_something("indicator_id");') }}
    <a class="label label-primary" href="/prepare_for_download/get_data**bla" target="_blank"  style="margin-right: 5px;">{{download_data }}</a>
  </form>

  <!-- warming level choice  -->
  <form method="POST" action="/warming_lvl_choice" id="warming_lvl_id">
    <h3>Warming level</h3>
    {{ form_warming_lvl.warming_lvls(onchange='change_something("warming_lvl_id");') }}
  </form>

</div>


<!-- right part of the website -->
<div id="LeftPanel" style="width: 74%; height: 100%; float: left; padding-left: 2%;">
  <h3>Regional climate model projections vizualized for the country scale </h3>
  <p>Click on <a class="label label-primary" tyle="margin-right: 5px;">png</a> or <a class="label label-primary" tyle="margin-right: 5px;">pdf</a> to download high resolution graphics.
  <!-- left top plot -->
  <div id="LeftPanel" style="width: 31%; height: 100%; float: left; padding-left: 2%;">
      <figure>
        <IMG SRC={{ hist_map }} ALT='{{ hist_map }}' WIDTH=100%></IMG>
      </figure>
      <p>Simulated crop yield for the reference period 1986-2005 (+0.61Â°C above preindustrial) (ensemble median).
        This map is based on the ISIMIP phase 1 dataset.
        Data are shown for present-day irrigated and rainfed harvested areas.</p>
  </div>
  <!-- middle top plot -->
  <div id="LeftPanel" style="width: 31%; height: 100%; float: left; padding-left: 2%;">
      <figure>
        <IMG SRC={{ proj_co2_map }} ALT={{ proj_co2_map }} WIDTH=100%></IMG>
      </figure>
  </div>
  <!-- right top plot -->
  <div id="LeftPanel" style="width: 100%; height: 100%; float: left; padding-left: 2%;">
    <table class="table">
      <tbody>
        <tr>
          <td>Crop </td> <td>Area [ha]</td> <td>1p0</td> <td>1p5</td> <td>2</td> <td>2p5</td> <td>3</td>
        </tr>
        {% for crop in crops %}
          <tr>
            <td>{{crop}}</td>
            <td>{{result_table.loc[(result_table['Warming']=='1p5')].loc[(result_table['Crop']== crop)].iloc[0,3]}}</td>
            {% for wlvl in ['1p0','1p5','2p0','2p5','3p0'] %}
              <td>{{ result_table.loc[(result_table['Warming']== wlvl)].loc[(result_table['Crop']== crop)].iloc[0,9] }}
                [{{ result_table.loc[(result_table['Warming']== wlvl)].loc[(result_table['Crop']== crop)].iloc[0,8] }} to {{ result_table.loc[(result_table['Warming']== wlvl)].loc[(result_table['Crop']== crop)].iloc[0,11] }}]
              </td>
            {% endfor %}
          </tr>
        {% endfor %}

      </tbody>
    </table>
  </div>

</div>


</div>


</div>




{% endblock %}
